@php
    $user = Auth::user();
@endphp
<header class="navbar">
    <div class="welcome-text">
        <h1>Welcome!</h1>
        <h6>{{ isset($user->name) ? $user->name : '' }}</h6>
    </div>
    <div class="icons">
        <div class="icon message-icon">
            <svg width="50" height="50" viewBox="0 0 76 75" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="0.949219" y="1.5" width="73" height="73" rx="7.5" stroke="#F3F2F7" />
                <path
                    d="M37.4493 37.9998C38.0936 37.9998 38.6159 37.4774 38.6159 36.8331C38.6159 36.1888 38.0936 35.6664 37.4493 35.6664C36.8049 35.6664 36.2826 36.1888 36.2826 36.8331C36.2826 37.4774 36.8049 37.9998 37.4493 37.9998Z"
                    fill="#464255" />
                <path
                    d="M32.7825 37.9998C33.4268 37.9998 33.9492 37.4774 33.9492 36.8331C33.9492 36.1888 33.4268 35.6664 32.7825 35.6664C32.1382 35.6664 31.6158 36.1888 31.6158 36.8331C31.6158 37.4774 32.1382 37.9998 32.7825 37.9998Z"
                    fill="#464255" />
                <path
                    d="M42.1159 37.9998C42.7602 37.9998 43.2826 37.4774 43.2826 36.8331C43.2826 36.1888 42.7602 35.6664 42.1159 35.6664C41.4716 35.6664 40.9492 36.1888 40.9492 36.8331C40.9492 37.4774 41.4716 37.9998 42.1159 37.9998Z"
                    fill="#464255" />
                <path
                    d="M27.0074 49.515C27.2516 49.6157 27.5133 49.6673 27.7774 49.6667C28.0379 49.668 28.2961 49.617 28.5365 49.5168C28.777 49.4166 28.9949 49.2692 29.1774 49.0833L32.0941 46.1667H43.2824C44.8295 46.1667 46.3133 45.5521 47.4072 44.4581C48.5012 43.3642 49.1158 41.8804 49.1158 40.3333V33.3333C49.1158 31.7862 48.5012 30.3025 47.4072 29.2085C46.3133 28.1146 44.8295 27.5 43.2824 27.5H31.6158C30.0687 27.5 28.5849 28.1146 27.491 29.2085C26.397 30.3025 25.7824 31.7862 25.7824 33.3333V47.6717C25.7787 48.0662 25.8935 48.4528 26.1119 48.7814C26.3303 49.1101 26.6422 49.3656 27.0074 49.515ZM28.1158 33.3333C28.1158 32.4051 28.4845 31.5148 29.1409 30.8585C29.7973 30.2021 30.6875 29.8333 31.6158 29.8333H43.2824C44.2107 29.8333 45.1009 30.2021 45.7573 30.8585C46.4137 31.5148 46.7824 32.4051 46.7824 33.3333V40.3333C46.7824 41.2616 46.4137 42.1518 45.7573 42.8082C45.1009 43.4646 44.2107 43.8333 43.2824 43.8333H31.6158C31.4622 43.8324 31.31 43.8619 31.1679 43.9199C31.0257 43.978 30.8964 44.0635 30.7874 44.1717L28.1158 46.855V33.3333Z"
                    fill="#464255" />
                <rect x="39.9492" y="0.5" width="35" height="35" rx="8.5" fill="#FFBB54"
                    stroke="#F3F2F7" />
                <path
                    d="M49.9829 17.512C49.1055 17.0453 48.6669 16.3127 48.6669 15.314C48.6669 14.81 48.7975 14.3527 49.0589 13.942C49.3202 13.522 49.7169 13.1907 50.2489 12.948C50.7809 12.696 51.4342 12.57 52.2089 12.57C52.9835 12.57 53.6322 12.696 54.1549 12.948C54.6869 13.1907 55.0835 13.522 55.3449 13.942C55.6062 14.3527 55.7369 14.81 55.7369 15.314C55.7369 15.818 55.6155 16.2567 55.3729 16.63C55.1395 17.0033 54.8222 17.2973 54.4209 17.512C54.9249 17.7547 55.3122 18.0907 55.5829 18.52C55.8535 18.94 55.9889 19.4347 55.9889 20.004C55.9889 20.6667 55.8209 21.2407 55.4849 21.726C55.1489 22.202 54.6915 22.566 54.1129 22.818C53.5435 23.07 52.9089 23.196 52.2089 23.196C51.5089 23.196 50.8695 23.07 50.2909 22.818C49.7215 22.566 49.2689 22.202 48.9329 21.726C48.5969 21.2407 48.4289 20.6667 48.4289 20.004C48.4289 19.4253 48.5642 18.926 48.8349 18.506C49.1055 18.0767 49.4882 17.7453 49.9829 17.512ZM53.4129 15.678C53.4129 15.2953 53.3009 15.0013 53.0769 14.796C52.8622 14.5813 52.5729 14.474 52.2089 14.474C51.8449 14.474 51.5509 14.5813 51.3269 14.796C51.1122 15.0107 51.0049 15.3093 51.0049 15.692C51.0049 16.056 51.1169 16.3453 51.3409 16.56C51.5649 16.7653 51.8542 16.868 52.2089 16.868C52.5635 16.868 52.8529 16.7607 53.0769 16.546C53.3009 16.3313 53.4129 16.042 53.4129 15.678ZM52.2089 18.548C51.7702 18.548 51.4155 18.6693 51.1449 18.912C50.8742 19.1453 50.7389 19.472 50.7389 19.892C50.7389 20.284 50.8695 20.606 51.1309 20.858C51.4015 21.11 51.7609 21.236 52.2089 21.236C52.6569 21.236 53.0069 21.11 53.2589 20.858C53.5202 20.606 53.6509 20.284 53.6509 19.892C53.6509 19.4813 53.5155 19.1547 53.2449 18.912C52.9835 18.6693 52.6382 18.548 52.2089 18.548ZM57.437 21.18V19.248L61.861 12.92H64.535V19.108H65.683V21.18H64.535V23H62.141V21.18H57.437ZM62.309 15.552L59.957 19.108H62.309V15.552Z"
                    fill="white" />
            </svg>
        </div>
       
        <div class="notification">
            <div class="icon" id="notificationIcon" style="position: relative;">
                <svg width="50" height="50" viewBox="0 0 76 75" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M28.1159 47.3333H35.1159C35.1159 47.9522 35.3617 48.5457 35.7993 48.9832C36.2369 49.4208 36.8304 49.6667 37.4492 49.6667C38.0681 49.6667 38.6615 49.4208 39.0991 48.9832C39.5367 48.5457 39.7826 47.9522 39.7826 47.3333H46.7826C47.092 47.3333 47.3887 47.2104 47.6075 46.9916C47.8263 46.7728 47.9492 46.4761 47.9492 46.1667C47.9492 45.8572 47.8263 45.5605 47.6075 45.3417C47.3887 45.1229 47.092 45 46.7826 45V36.8333C46.7826 34.358 45.7992 31.984 44.0489 30.2337C42.2985 28.4833 39.9246 27.5 37.4492 27.5C34.9739 27.5 32.5999 28.4833 30.8496 30.2337C29.0992 31.984 28.1159 34.358 28.1159 36.8333V45C27.8065 45 27.5097 45.1229 27.2909 45.3417C27.0721 45.5605 26.9492 45.8572 26.9492 46.1667C26.9492 46.4761 27.0721 46.7728 27.2909 46.9916C27.5097 47.2104 27.8065 47.3333 28.1159 47.3333ZM30.4492 36.8333C30.4492 34.9768 31.1867 33.1963 32.4995 31.8836C33.8122 30.5708 35.5927 29.8333 37.4492 29.8333C39.3057 29.8333 41.0862 30.5708 42.399 31.8836C43.7117 33.1963 44.4492 34.9768 44.4492 36.8333V45H30.4492V36.8333Z"
                        fill="#464255" />
                    
                    <path
                        d="M53.9962 21.082C54.3135 20.83 54.4582 20.7133 54.4302 20.732C55.3449 19.976 56.0635 19.3553 56.5862 18.87C57.1182 18.3847 57.5662 17.876 57.9302 17.344C58.2942 16.812 58.4762 16.294 58.4762 15.79C58.4762 15.4073 58.3875 15.1087 58.2102 14.894C58.0329 14.6793 57.7669 14.572 57.4122 14.572C57.0575 14.572 56.7775 14.7073 56.5722 14.978C56.3762 15.2393 56.2782 15.6127 56.2782 16.098H53.9682C53.9869 15.3047 54.1549 14.642 54.4722 14.11C54.7989 13.578 55.2235 13.186 55.7462 12.934C56.2782 12.682 56.8662 12.556 57.5102 12.556C58.6209 12.556 59.4562 12.8407 60.0162 13.41C60.5855 13.9793 60.8702 14.7213 60.8702 15.636C60.8702 16.6347 60.5295 17.5633 59.8482 18.422C59.1669 19.2713 58.2989 20.102 57.2442 20.914H61.0242V22.86H53.9962V21.082Z"
                        fill="white" />
                </svg>
                <!-- Notification count badge -->
                <div style="position: absolute; top: 0; right: 0; background-color: #58CDFF; color: white; border-radius: 50%; padding: 2px 6px; font-size: 12px; font-weight: bold; text-align: center;">
                    {{ count($userTasks)  }}
                </div>
            </div>
            <div class="notification-dropdown" id="notificationDropdown" style="display: none;">
               @if (!empty($userTasks) && count($userTasks) > 0)
               @foreach ($userTasks as $key => $value)
                   
               <div class="notification-card">
                   <div class="notification-card-header">
                       <h4>Task Status: {{ isset($value['process']) ? $value['process'] : '' }}</h4>
                       <div class="notification-options">
                       </div>
                   </div>
                   <p>5 Client follow up for tomorrow</p>
                   <p class="notification-date">Details: {!! isset($value['description']) ? $value['description'] : '' !!}</p>
                   <div class="hello">
                       <div class="left-side">
                           <img src="{{ asset('images/profiles/admin.webp') }}" alt="Profile Image" class="profile-image">
                           <span>by Admin</span>
                       </div>
                       <div class="right-side">
                           <a href="">View task</a>
                       </div>
                   </div>
               </div>
               @endforeach

               @else
                   
               @endif
        
        
                <!-- Add more notifications as needed -->
            </div>
        </div>
        <div class="profile-dropdown">
            <img src="{{  asset('/images/profiles/user.webp')  }}" alt="Profile" class="profile-img" id="profile-img">
            <div class="dropdown-content" id="dropdown-content">
                <a href="#">Profile</a>
                <a href="{{ route('logout') }}">Logout</a>
            </div>
        </div>
    </div>
</header>
